import{a as _}from"./js.cookie-cf83ad76.js";import{p as r}from"./index-722e3434.js";import{I as q}from"./index-7dcea9ba.js";import{B as f}from"./index-3b59ee0e.js";import{m as U}from"./useConfigInject-ecfa0aa8.js";import{f as w,g as k,r as I,o as C,c as F,d as a,a as d,u as o,w as b,e as s,t as B,b as u,p as N,h as M,_ as R}from"./app-fcfb95bc.js";import"./LoadingOutlined-a1b96c11.js";import"./commonjsHelpers-87174ba5.js";import"./ResizeObserver.es-f4289e8a.js";import"./dayjs.min-f552d25f.js";import"./index-e8d78288.js";const t=c=>(N("data-v-24bde11f"),c=c(),M(),c),S=t(()=>a("h1",{id:"fileuploadmodal-文件导入",tabindex:"-1"},[a("a",{class:"header-anchor",href:"#fileuploadmodal-文件导入","aria-hidden":"true"},"#"),s(" FileUploadModal 文件导入")],-1)),L={class:"token-content"},D=t(()=>a("p",null,"本页的例子都需要设置token，如果提示错误请登录dev环境获取token",-1)),T=t(()=>a("h4",{id:"基本用法",tabindex:"-1"},[a("a",{class:"header-anchor",href:"#基本用法","aria-hidden":"true"},"#"),s(" 基本用法")],-1)),E={class:"example-item"},V=u(`<details class="custom-container details" data-v-24bde11f><summary data-v-24bde11f>点击查看代码</summary><div class="language-vue line-numbers-mode" data-ext="vue" data-v-24bde11f><pre class="language-vue" data-v-24bde11f><code data-v-24bde11f><span class="token tag" data-v-24bde11f><span class="token tag" data-v-24bde11f><span class="token punctuation" data-v-24bde11f>&lt;</span>template</span><span class="token punctuation" data-v-24bde11f>&gt;</span></span>
 <span class="token tag" data-v-24bde11f><span class="token tag" data-v-24bde11f><span class="token punctuation" data-v-24bde11f>&lt;</span>div</span> <span class="token attr-name" data-v-24bde11f>class</span><span class="token attr-value" data-v-24bde11f><span class="token punctuation attr-equals" data-v-24bde11f>=</span><span class="token punctuation" data-v-24bde11f>&quot;</span>example-item<span class="token punctuation" data-v-24bde11f>&quot;</span></span><span class="token punctuation" data-v-24bde11f>&gt;</span></span>
  <span class="token tag" data-v-24bde11f><span class="token tag" data-v-24bde11f><span class="token punctuation" data-v-24bde11f>&lt;</span>Button</span> <span class="token attr-name" data-v-24bde11f>type</span><span class="token attr-value" data-v-24bde11f><span class="token punctuation attr-equals" data-v-24bde11f>=</span><span class="token punctuation" data-v-24bde11f>&quot;</span>primary<span class="token punctuation" data-v-24bde11f>&quot;</span></span> <span class="token attr-name" data-v-24bde11f>@click</span><span class="token attr-value" data-v-24bde11f><span class="token punctuation attr-equals" data-v-24bde11f>=</span><span class="token punctuation" data-v-24bde11f>&quot;</span>visible = true<span class="token punctuation" data-v-24bde11f>&quot;</span></span><span class="token punctuation" data-v-24bde11f>&gt;</span></span>文件导入<span class="token tag" data-v-24bde11f><span class="token tag" data-v-24bde11f><span class="token punctuation" data-v-24bde11f>&lt;/</span>Button</span><span class="token punctuation" data-v-24bde11f>&gt;</span></span>
  <span class="token tag" data-v-24bde11f><span class="token tag" data-v-24bde11f><span class="token punctuation" data-v-24bde11f>&lt;</span>FileUploadModal</span>
    <span class="token attr-name" data-v-24bde11f><span class="token namespace" data-v-24bde11f>v-model:</span>visible</span><span class="token attr-value" data-v-24bde11f><span class="token punctuation attr-equals" data-v-24bde11f>=</span><span class="token punctuation" data-v-24bde11f>&quot;</span>visible<span class="token punctuation" data-v-24bde11f>&quot;</span></span>
    <span class="token attr-name" data-v-24bde11f>action</span><span class="token attr-value" data-v-24bde11f><span class="token punctuation attr-equals" data-v-24bde11f>=</span><span class="token punctuation" data-v-24bde11f>&quot;</span>/demo<span class="token punctuation" data-v-24bde11f>&quot;</span></span>
    <span class="token attr-name" data-v-24bde11f>:beforeUpload</span><span class="token attr-value" data-v-24bde11f><span class="token punctuation attr-equals" data-v-24bde11f>=</span><span class="token punctuation" data-v-24bde11f>&quot;</span>onBeforeUpload<span class="token punctuation" data-v-24bde11f>&quot;</span></span>
    <span class="token attr-name" data-v-24bde11f>@confirm</span><span class="token attr-value" data-v-24bde11f><span class="token punctuation attr-equals" data-v-24bde11f>=</span><span class="token punctuation" data-v-24bde11f>&quot;</span>onUploadConfirm<span class="token punctuation" data-v-24bde11f>&quot;</span></span>
    <span class="token attr-name" data-v-24bde11f>@uploaded</span><span class="token attr-value" data-v-24bde11f><span class="token punctuation attr-equals" data-v-24bde11f>=</span><span class="token punctuation" data-v-24bde11f>&quot;</span>onUploaded<span class="token punctuation" data-v-24bde11f>&quot;</span></span>
    <span class="token attr-name" data-v-24bde11f>template-name</span><span class="token attr-value" data-v-24bde11f><span class="token punctuation attr-equals" data-v-24bde11f>=</span><span class="token punctuation" data-v-24bde11f>&#39;</span>文件名称<span class="token punctuation" data-v-24bde11f>&#39;</span></span>
    <span class="token attr-name" data-v-24bde11f>template-url</span><span class="token attr-value" data-v-24bde11f><span class="token punctuation attr-equals" data-v-24bde11f>=</span><span class="token punctuation" data-v-24bde11f>&#39;</span>https://xxx.com<span class="token punctuation" data-v-24bde11f>&#39;</span></span>
  <span class="token punctuation" data-v-24bde11f>/&gt;</span></span>
<span class="token tag" data-v-24bde11f><span class="token tag" data-v-24bde11f><span class="token punctuation" data-v-24bde11f>&lt;/</span>div</span><span class="token punctuation" data-v-24bde11f>&gt;</span></span>
<span class="token tag" data-v-24bde11f><span class="token tag" data-v-24bde11f><span class="token punctuation" data-v-24bde11f>&lt;/</span>template</span><span class="token punctuation" data-v-24bde11f>&gt;</span></span>

<span class="token tag" data-v-24bde11f><span class="token tag" data-v-24bde11f><span class="token punctuation" data-v-24bde11f>&lt;</span>script</span> <span class="token attr-name" data-v-24bde11f>setup</span> <span class="token attr-name" data-v-24bde11f>lang</span><span class="token attr-value" data-v-24bde11f><span class="token punctuation attr-equals" data-v-24bde11f>=</span><span class="token punctuation" data-v-24bde11f>&quot;</span>ts<span class="token punctuation" data-v-24bde11f>&quot;</span></span><span class="token punctuation" data-v-24bde11f>&gt;</span></span><span class="token script" data-v-24bde11f><span class="token language-javascript" data-v-24bde11f>
<span class="token keyword" data-v-24bde11f>import</span> <span class="token punctuation" data-v-24bde11f>{</span> FileUploadModal <span class="token punctuation" data-v-24bde11f>}</span> <span class="token keyword" data-v-24bde11f>from</span> <span class="token string" data-v-24bde11f>&#39;miya-design&#39;</span><span class="token punctuation" data-v-24bde11f>;</span>
<span class="token keyword" data-v-24bde11f>import</span> <span class="token punctuation" data-v-24bde11f>{</span> UploadedReturnedInfo <span class="token punctuation" data-v-24bde11f>}</span> <span class="token keyword" data-v-24bde11f>from</span> <span class="token string" data-v-24bde11f>&#39;miya-design/types&#39;</span>
<span class="token keyword" data-v-24bde11f>const</span> visible <span class="token operator" data-v-24bde11f>=</span> <span class="token function" data-v-24bde11f>ref</span><span class="token punctuation" data-v-24bde11f>(</span><span class="token boolean" data-v-24bde11f>false</span><span class="token punctuation" data-v-24bde11f>)</span><span class="token punctuation" data-v-24bde11f>;</span>
<span class="token doc-comment comment" data-v-24bde11f>/**
 * 当且仅当return false时中止上传
 */</span>
<span class="token keyword" data-v-24bde11f>function</span> <span class="token function" data-v-24bde11f>onBeforeUpload</span><span class="token punctuation" data-v-24bde11f>(</span><span class="token parameter" data-v-24bde11f><span class="token literal-property property" data-v-24bde11f>file</span><span class="token operator" data-v-24bde11f>:</span> File<span class="token punctuation" data-v-24bde11f>,</span> <span class="token literal-property property" data-v-24bde11f>formData</span><span class="token operator" data-v-24bde11f>:</span>FormData</span><span class="token punctuation" data-v-24bde11f>)</span> <span class="token punctuation" data-v-24bde11f>{</span>
    <span class="token comment" data-v-24bde11f>// 文件格式校验</span>
    <span class="token keyword" data-v-24bde11f>const</span> mimeType <span class="token operator" data-v-24bde11f>=</span> <span class="token punctuation" data-v-24bde11f>[</span><span class="token string" data-v-24bde11f>&#39;xlsx&#39;</span><span class="token punctuation" data-v-24bde11f>,</span> <span class="token string" data-v-24bde11f>&#39;xls&#39;</span><span class="token punctuation" data-v-24bde11f>,</span> <span class="token string" data-v-24bde11f>&#39;crv&#39;</span><span class="token punctuation" data-v-24bde11f>]</span><span class="token punctuation" data-v-24bde11f>;</span>
    <span class="token keyword" data-v-24bde11f>const</span> fileName <span class="token operator" data-v-24bde11f>=</span> file<span class="token punctuation" data-v-24bde11f>.</span>name<span class="token punctuation" data-v-24bde11f>.</span><span class="token function" data-v-24bde11f>split</span><span class="token punctuation" data-v-24bde11f>(</span><span class="token string" data-v-24bde11f>&#39;.&#39;</span><span class="token punctuation" data-v-24bde11f>)</span><span class="token punctuation" data-v-24bde11f>;</span>
    <span class="token keyword" data-v-24bde11f>const</span> mimeName <span class="token operator" data-v-24bde11f>=</span> fileName<span class="token punctuation" data-v-24bde11f>[</span>fileName<span class="token punctuation" data-v-24bde11f>.</span>length <span class="token operator" data-v-24bde11f>-</span> <span class="token number" data-v-24bde11f>1</span><span class="token punctuation" data-v-24bde11f>]</span><span class="token punctuation" data-v-24bde11f>;</span>
    <span class="token keyword" data-v-24bde11f>if</span> <span class="token punctuation" data-v-24bde11f>(</span><span class="token operator" data-v-24bde11f>!</span>mimeType<span class="token punctuation" data-v-24bde11f>.</span><span class="token function" data-v-24bde11f>includes</span><span class="token punctuation" data-v-24bde11f>(</span>mimeName<span class="token punctuation" data-v-24bde11f>.</span><span class="token function" data-v-24bde11f>toLocaleLowerCase</span><span class="token punctuation" data-v-24bde11f>(</span><span class="token punctuation" data-v-24bde11f>)</span><span class="token punctuation" data-v-24bde11f>)</span><span class="token punctuation" data-v-24bde11f>)</span> <span class="token punctuation" data-v-24bde11f>{</span>
      message<span class="token punctuation" data-v-24bde11f>.</span><span class="token function" data-v-24bde11f>warning</span><span class="token punctuation" data-v-24bde11f>(</span><span class="token string" data-v-24bde11f>&#39;请选择xlsx、crv格式文件&#39;</span><span class="token punctuation" data-v-24bde11f>)</span><span class="token punctuation" data-v-24bde11f>;</span>
      <span class="token keyword" data-v-24bde11f>return</span> <span class="token boolean" data-v-24bde11f>false</span>
    <span class="token punctuation" data-v-24bde11f>}</span>
    <span class="token comment" data-v-24bde11f>// 添加自定义参数</span>
    formData<span class="token punctuation" data-v-24bde11f>.</span><span class="token function" data-v-24bde11f>append</span><span class="token punctuation" data-v-24bde11f>(</span><span class="token string" data-v-24bde11f>&#39;templateid&#39;</span><span class="token punctuation" data-v-24bde11f>,</span><span class="token string" data-v-24bde11f>&#39;123&#39;</span><span class="token punctuation" data-v-24bde11f>)</span>
<span class="token punctuation" data-v-24bde11f>}</span>
<span class="token doc-comment comment" data-v-24bde11f>/**
 * 没有上传前点击确认val为null
 */</span>
<span class="token keyword" data-v-24bde11f>function</span> <span class="token function" data-v-24bde11f>onUploadConfirm</span><span class="token punctuation" data-v-24bde11f>(</span><span class="token parameter" data-v-24bde11f><span class="token literal-property property" data-v-24bde11f>val</span><span class="token operator" data-v-24bde11f>:</span>UploadedReturnedInfo <span class="token operator" data-v-24bde11f>|</span> <span class="token keyword" data-v-24bde11f>null</span></span><span class="token punctuation" data-v-24bde11f>)</span> <span class="token punctuation" data-v-24bde11f>{</span>
  console<span class="token punctuation" data-v-24bde11f>.</span><span class="token function" data-v-24bde11f>log</span><span class="token punctuation" data-v-24bde11f>(</span>val<span class="token punctuation" data-v-24bde11f>)</span><span class="token punctuation" data-v-24bde11f>;</span>
<span class="token punctuation" data-v-24bde11f>}</span>
<span class="token keyword" data-v-24bde11f>function</span> <span class="token function" data-v-24bde11f>onUploaded</span><span class="token punctuation" data-v-24bde11f>(</span><span class="token parameter" data-v-24bde11f><span class="token literal-property property" data-v-24bde11f>val</span><span class="token operator" data-v-24bde11f>:</span>UploadedReturnedInfo</span><span class="token punctuation" data-v-24bde11f>)</span><span class="token punctuation" data-v-24bde11f>{</span>
  console<span class="token punctuation" data-v-24bde11f>.</span><span class="token function" data-v-24bde11f>log</span><span class="token punctuation" data-v-24bde11f>(</span>val<span class="token punctuation" data-v-24bde11f>)</span>
<span class="token punctuation" data-v-24bde11f>}</span>
</span></span><span class="token tag" data-v-24bde11f><span class="token tag" data-v-24bde11f><span class="token punctuation" data-v-24bde11f>&lt;/</span>script</span><span class="token punctuation" data-v-24bde11f>&gt;</span></span>
</code></pre><div class="highlight-lines" data-v-24bde11f><br data-v-24bde11f><br data-v-24bde11f><br data-v-24bde11f><div class="highlight-line" data-v-24bde11f> </div><br data-v-24bde11f><br data-v-24bde11f><br data-v-24bde11f><br data-v-24bde11f><br data-v-24bde11f><br data-v-24bde11f><br data-v-24bde11f><div class="highlight-line" data-v-24bde11f> </div><br data-v-24bde11f><br data-v-24bde11f><br data-v-24bde11f><br data-v-24bde11f><br data-v-24bde11f><br data-v-24bde11f><br data-v-24bde11f><br data-v-24bde11f><br data-v-24bde11f><br data-v-24bde11f><br data-v-24bde11f><br data-v-24bde11f><br data-v-24bde11f><br data-v-24bde11f><br data-v-24bde11f><br data-v-24bde11f><br data-v-24bde11f><br data-v-24bde11f><br data-v-24bde11f><br data-v-24bde11f><br data-v-24bde11f><br data-v-24bde11f><br data-v-24bde11f><br data-v-24bde11f><br data-v-24bde11f><br data-v-24bde11f><br data-v-24bde11f><br data-v-24bde11f><br data-v-24bde11f><br data-v-24bde11f><br data-v-24bde11f><br data-v-24bde11f></div><div class="line-numbers" aria-hidden="true" data-v-24bde11f><div class="line-number" data-v-24bde11f></div><div class="line-number" data-v-24bde11f></div><div class="line-number" data-v-24bde11f></div><div class="line-number" data-v-24bde11f></div><div class="line-number" data-v-24bde11f></div><div class="line-number" data-v-24bde11f></div><div class="line-number" data-v-24bde11f></div><div class="line-number" data-v-24bde11f></div><div class="line-number" data-v-24bde11f></div><div class="line-number" data-v-24bde11f></div><div class="line-number" data-v-24bde11f></div><div class="line-number" data-v-24bde11f></div><div class="line-number" data-v-24bde11f></div><div class="line-number" data-v-24bde11f></div><div class="line-number" data-v-24bde11f></div><div class="line-number" data-v-24bde11f></div><div class="line-number" data-v-24bde11f></div><div class="line-number" data-v-24bde11f></div><div class="line-number" data-v-24bde11f></div><div class="line-number" data-v-24bde11f></div><div class="line-number" data-v-24bde11f></div><div class="line-number" data-v-24bde11f></div><div class="line-number" data-v-24bde11f></div><div class="line-number" data-v-24bde11f></div><div class="line-number" data-v-24bde11f></div><div class="line-number" data-v-24bde11f></div><div class="line-number" data-v-24bde11f></div><div class="line-number" data-v-24bde11f></div><div class="line-number" data-v-24bde11f></div><div class="line-number" data-v-24bde11f></div><div class="line-number" data-v-24bde11f></div><div class="line-number" data-v-24bde11f></div><div class="line-number" data-v-24bde11f></div><div class="line-number" data-v-24bde11f></div><div class="line-number" data-v-24bde11f></div><div class="line-number" data-v-24bde11f></div><div class="line-number" data-v-24bde11f></div><div class="line-number" data-v-24bde11f></div><div class="line-number" data-v-24bde11f></div><div class="line-number" data-v-24bde11f></div><div class="line-number" data-v-24bde11f></div><div class="line-number" data-v-24bde11f></div><div class="line-number" data-v-24bde11f></div><div class="line-number" data-v-24bde11f></div></div></div></details><h4 id="通过插槽实现自定义结果页" tabindex="-1" data-v-24bde11f><a class="header-anchor" href="#通过插槽实现自定义结果页" aria-hidden="true" data-v-24bde11f>#</a> 通过插槽实现自定义结果页</h4>`,2),z={class:"example-item"},A=u(`<details class="custom-container details" data-v-24bde11f><summary data-v-24bde11f>点击查看代码</summary><div class="language-vue line-numbers-mode" data-ext="vue" data-v-24bde11f><pre class="language-vue" data-v-24bde11f><code data-v-24bde11f><span class="token tag" data-v-24bde11f><span class="token tag" data-v-24bde11f><span class="token punctuation" data-v-24bde11f>&lt;</span>template</span><span class="token punctuation" data-v-24bde11f>&gt;</span></span>
 <span class="token tag" data-v-24bde11f><span class="token tag" data-v-24bde11f><span class="token punctuation" data-v-24bde11f>&lt;</span>div</span> <span class="token attr-name" data-v-24bde11f>class</span><span class="token attr-value" data-v-24bde11f><span class="token punctuation attr-equals" data-v-24bde11f>=</span><span class="token punctuation" data-v-24bde11f>&quot;</span>example-item<span class="token punctuation" data-v-24bde11f>&quot;</span></span><span class="token punctuation" data-v-24bde11f>&gt;</span></span>
  <span class="token tag" data-v-24bde11f><span class="token tag" data-v-24bde11f><span class="token punctuation" data-v-24bde11f>&lt;</span>Button</span> <span class="token attr-name" data-v-24bde11f>type</span><span class="token attr-value" data-v-24bde11f><span class="token punctuation attr-equals" data-v-24bde11f>=</span><span class="token punctuation" data-v-24bde11f>&quot;</span>primary<span class="token punctuation" data-v-24bde11f>&quot;</span></span> <span class="token attr-name" data-v-24bde11f>@click</span><span class="token attr-value" data-v-24bde11f><span class="token punctuation attr-equals" data-v-24bde11f>=</span><span class="token punctuation" data-v-24bde11f>&quot;</span>visible = true<span class="token punctuation" data-v-24bde11f>&quot;</span></span><span class="token punctuation" data-v-24bde11f>&gt;</span></span>文件导入<span class="token tag" data-v-24bde11f><span class="token tag" data-v-24bde11f><span class="token punctuation" data-v-24bde11f>&lt;/</span>Button</span><span class="token punctuation" data-v-24bde11f>&gt;</span></span>
  <span class="token tag" data-v-24bde11f><span class="token tag" data-v-24bde11f><span class="token punctuation" data-v-24bde11f>&lt;</span>FileUploadModal</span>
    <span class="token attr-name" data-v-24bde11f><span class="token namespace" data-v-24bde11f>v-model:</span>visible</span><span class="token attr-value" data-v-24bde11f><span class="token punctuation attr-equals" data-v-24bde11f>=</span><span class="token punctuation" data-v-24bde11f>&quot;</span>visible<span class="token punctuation" data-v-24bde11f>&quot;</span></span>
    <span class="token attr-name" data-v-24bde11f>action</span><span class="token attr-value" data-v-24bde11f><span class="token punctuation attr-equals" data-v-24bde11f>=</span><span class="token punctuation" data-v-24bde11f>&quot;</span>/demo<span class="token punctuation" data-v-24bde11f>&quot;</span></span>
  <span class="token punctuation" data-v-24bde11f>&gt;</span></span>
    <span class="token tag" data-v-24bde11f><span class="token tag" data-v-24bde11f><span class="token punctuation" data-v-24bde11f>&lt;</span>template</span> <span class="token attr-name" data-v-24bde11f><span class="token namespace" data-v-24bde11f>v-slot:</span>default</span><span class="token attr-value" data-v-24bde11f><span class="token punctuation attr-equals" data-v-24bde11f>=</span><span class="token punctuation" data-v-24bde11f>&quot;</span>{uploadedInfo}<span class="token punctuation" data-v-24bde11f>&quot;</span></span><span class="token punctuation" data-v-24bde11f>&gt;</span></span>
      <span class="token tag" data-v-24bde11f><span class="token tag" data-v-24bde11f><span class="token punctuation" data-v-24bde11f>&lt;</span>div</span><span class="token punctuation" data-v-24bde11f>&gt;</span></span>
        {{ uploadedInfo.successCount }}
      <span class="token tag" data-v-24bde11f><span class="token tag" data-v-24bde11f><span class="token punctuation" data-v-24bde11f>&lt;/</span>div</span><span class="token punctuation" data-v-24bde11f>&gt;</span></span>
    <span class="token tag" data-v-24bde11f><span class="token tag" data-v-24bde11f><span class="token punctuation" data-v-24bde11f>&lt;/</span>template</span><span class="token punctuation" data-v-24bde11f>&gt;</span></span>
  <span class="token tag" data-v-24bde11f><span class="token tag" data-v-24bde11f><span class="token punctuation" data-v-24bde11f>&lt;/</span>FileUploadModal</span><span class="token punctuation" data-v-24bde11f>&gt;</span></span>
<span class="token tag" data-v-24bde11f><span class="token tag" data-v-24bde11f><span class="token punctuation" data-v-24bde11f>&lt;/</span>div</span><span class="token punctuation" data-v-24bde11f>&gt;</span></span>
<span class="token tag" data-v-24bde11f><span class="token tag" data-v-24bde11f><span class="token punctuation" data-v-24bde11f>&lt;/</span>template</span><span class="token punctuation" data-v-24bde11f>&gt;</span></span>

<span class="token tag" data-v-24bde11f><span class="token tag" data-v-24bde11f><span class="token punctuation" data-v-24bde11f>&lt;</span>script</span> <span class="token attr-name" data-v-24bde11f>setup</span> <span class="token attr-name" data-v-24bde11f>lang</span><span class="token attr-value" data-v-24bde11f><span class="token punctuation attr-equals" data-v-24bde11f>=</span><span class="token punctuation" data-v-24bde11f>&quot;</span>ts<span class="token punctuation" data-v-24bde11f>&quot;</span></span><span class="token punctuation" data-v-24bde11f>&gt;</span></span><span class="token script" data-v-24bde11f><span class="token language-javascript" data-v-24bde11f>
<span class="token keyword" data-v-24bde11f>import</span> <span class="token punctuation" data-v-24bde11f>{</span> FileUploadModal <span class="token punctuation" data-v-24bde11f>}</span> <span class="token keyword" data-v-24bde11f>from</span> <span class="token string" data-v-24bde11f>&#39;miya-design&#39;</span><span class="token punctuation" data-v-24bde11f>;</span>
<span class="token keyword" data-v-24bde11f>import</span> <span class="token punctuation" data-v-24bde11f>{</span> UploadedReturnedInfo <span class="token punctuation" data-v-24bde11f>}</span> <span class="token keyword" data-v-24bde11f>from</span> <span class="token string" data-v-24bde11f>&#39;miya-design/types&#39;</span>
<span class="token keyword" data-v-24bde11f>const</span> visible <span class="token operator" data-v-24bde11f>=</span> <span class="token function" data-v-24bde11f>ref</span><span class="token punctuation" data-v-24bde11f>(</span><span class="token boolean" data-v-24bde11f>false</span><span class="token punctuation" data-v-24bde11f>)</span><span class="token punctuation" data-v-24bde11f>;</span>
</span></span><span class="token tag" data-v-24bde11f><span class="token tag" data-v-24bde11f><span class="token punctuation" data-v-24bde11f>&lt;/</span>script</span><span class="token punctuation" data-v-24bde11f>&gt;</span></span>
</code></pre><div class="highlight-lines" data-v-24bde11f><br data-v-24bde11f><br data-v-24bde11f><br data-v-24bde11f><br data-v-24bde11f><br data-v-24bde11f><br data-v-24bde11f><br data-v-24bde11f><div class="highlight-line" data-v-24bde11f> </div><br data-v-24bde11f><br data-v-24bde11f><br data-v-24bde11f><div class="highlight-line" data-v-24bde11f> </div><br data-v-24bde11f><br data-v-24bde11f><br data-v-24bde11f><br data-v-24bde11f><br data-v-24bde11f><br data-v-24bde11f><br data-v-24bde11f><br data-v-24bde11f><br data-v-24bde11f></div><div class="line-numbers" aria-hidden="true" data-v-24bde11f><div class="line-number" data-v-24bde11f></div><div class="line-number" data-v-24bde11f></div><div class="line-number" data-v-24bde11f></div><div class="line-number" data-v-24bde11f></div><div class="line-number" data-v-24bde11f></div><div class="line-number" data-v-24bde11f></div><div class="line-number" data-v-24bde11f></div><div class="line-number" data-v-24bde11f></div><div class="line-number" data-v-24bde11f></div><div class="line-number" data-v-24bde11f></div><div class="line-number" data-v-24bde11f></div><div class="line-number" data-v-24bde11f></div><div class="line-number" data-v-24bde11f></div><div class="line-number" data-v-24bde11f></div><div class="line-number" data-v-24bde11f></div><div class="line-number" data-v-24bde11f></div><div class="line-number" data-v-24bde11f></div><div class="line-number" data-v-24bde11f></div><div class="line-number" data-v-24bde11f></div><div class="line-number" data-v-24bde11f></div><div class="line-number" data-v-24bde11f></div></div></div></details><h2 id="api" tabindex="-1" data-v-24bde11f><a class="header-anchor" href="#api" aria-hidden="true" data-v-24bde11f>#</a> API</h2><h3 id="props" tabindex="-1" data-v-24bde11f><a class="header-anchor" href="#props" aria-hidden="true" data-v-24bde11f>#</a> Props</h3>`,3),$=t(()=>a("thead",null,[a("tr",null,[a("th",{style:{"text-align":"center"}},"属性"),a("th",{style:{"text-align":"center"}},"说明"),a("th",{style:{"text-align":"center"}},"类型"),a("th",{style:{"text-align":"center"}},"默认值")])],-1)),j=t(()=>a("tr",null,[a("td",{style:{"text-align":"center"}},"title"),a("td",{style:{"text-align":"center"}},"弹框的标题"),a("td",{style:{"text-align":"center"}},[a("code",null,"string")]),a("td",{style:{"text-align":"center"}},[a("code",null,"批量导入")])],-1)),P=t(()=>a("tr",null,[a("td",{style:{"text-align":"center"}},"visible"),a("td",{style:{"text-align":"center"}},"是否显示弹框"),a("td",{style:{"text-align":"center"}},[a("code",null,"boolean")]),a("td",{style:{"text-align":"center"}},[a("code",null,"false")])],-1)),H=t(()=>a("tr",null,[a("td",{style:{"text-align":"center"}},"templateUrl"),a("td",{style:{"text-align":"center"}},"模板的下载链接"),a("td",{style:{"text-align":"center"}},[a("code",null,"string")]),a("td",{style:{"text-align":"center"}},"-")],-1)),W=t(()=>a("tr",null,[a("td",{style:{"text-align":"center"}},"templateName"),a("td",{style:{"text-align":"center"}},"模板的展示名称"),a("td",{style:{"text-align":"center"}},[a("code",null,"string")]),a("td",{style:{"text-align":"center"}},[a("code",null,"模板")])],-1)),G=t(()=>a("tr",null,[a("td",{style:{"text-align":"center"}},"action"),a("td",{style:{"text-align":"center"}},"接口地址"),a("td",{style:{"text-align":"center"}},[a("code",null,"string")]),a("td",{style:{"text-align":"center"}},"-")],-1)),J=t(()=>a("td",{style:{"text-align":"center"}},"accept",-1)),K={style:{"text-align":"center"}},O={href:"https://developer.mozilla.org/en-US/docs/Web/HTML/Element/input/file#accept",target:"_blank",rel:"noopener noreferrer"},Q=t(()=>a("td",{style:{"text-align":"center"}},[a("code",null,"string")],-1)),X=t(()=>a("td",{style:{"text-align":"center"}},"-",-1)),Y=t(()=>a("tr",null,[a("td",{style:{"text-align":"center"}},"name"),a("td",{style:{"text-align":"center"}},"发到后台的文件参数名"),a("td",{style:{"text-align":"center"}},[a("code",null,"string")]),a("td",{style:{"text-align":"center"}},[a("code",null,"file")])],-1)),Z=t(()=>a("tr",null,[a("td",{style:{"text-align":"center"}},"beforeUpload"),a("td",{style:{"text-align":"center"}},"文件选中后上传前"),a("td",{style:{"text-align":"center"}},[a("code",null,"Function")]),a("td",{style:{"text-align":"center"}},[a("code",null,"(file:File,formData:FormData)=>true")])],-1)),aa=u(`<h3 id="slot" tabindex="-1" data-v-24bde11f><a class="header-anchor" href="#slot" aria-hidden="true" data-v-24bde11f>#</a> Slot</h3><table data-v-24bde11f><thead data-v-24bde11f><tr data-v-24bde11f><th style="text-align:center;" data-v-24bde11f>名称</th><th style="text-align:center;" data-v-24bde11f>说明</th><th style="text-align:center;" data-v-24bde11f>作用域参数</th></tr></thead><tbody data-v-24bde11f><tr data-v-24bde11f><td style="text-align:center;" data-v-24bde11f>default</td><td style="text-align:center;" data-v-24bde11f>自定义二级页面，方便二级页面定制化</td><td style="text-align:center;" data-v-24bde11f><code data-v-24bde11f>uploadedInfo:UploadedReturnedInfo</code></td></tr></tbody></table><h3 id="事件" tabindex="-1" data-v-24bde11f><a class="header-anchor" href="#事件" aria-hidden="true" data-v-24bde11f>#</a> 事件</h3><table data-v-24bde11f><thead data-v-24bde11f><tr data-v-24bde11f><th style="text-align:center;" data-v-24bde11f>事件名称</th><th style="text-align:center;" data-v-24bde11f>类型</th><th style="text-align:center;" data-v-24bde11f>说明</th><th data-v-24bde11f>回调参数说明</th></tr></thead><tbody data-v-24bde11f><tr data-v-24bde11f><td style="text-align:center;" data-v-24bde11f>confirm</td><td style="text-align:center;" data-v-24bde11f><code data-v-24bde11f>(uploadedInfo: UploadedReturnedInfo | null) =&gt; void</code></td><td style="text-align:center;" data-v-24bde11f>点击确认</td><td data-v-24bde11f>上传后的接口返回值 | null</td></tr><tr data-v-24bde11f><td style="text-align:center;" data-v-24bde11f>cancel</td><td style="text-align:center;" data-v-24bde11f><code data-v-24bde11f>() =&gt; void</code></td><td style="text-align:center;" data-v-24bde11f>点击取消</td><td data-v-24bde11f>-</td></tr><tr data-v-24bde11f><td style="text-align:center;" data-v-24bde11f>uploaded</td><td style="text-align:center;" data-v-24bde11f><code data-v-24bde11f>(uploadedInfo: UploadedReturnedInfo | null) =&gt; void</code></td><td style="text-align:center;" data-v-24bde11f>上传成功后立即回调</td><td data-v-24bde11f>上传后的接口返回值</td></tr></tbody></table><h3 id="类型" tabindex="-1" data-v-24bde11f><a class="header-anchor" href="#类型" aria-hidden="true" data-v-24bde11f>#</a> 类型</h3><h5 id="interface-uploadedreturnedinfo" tabindex="-1" data-v-24bde11f><a class="header-anchor" href="#interface-uploadedreturnedinfo" aria-hidden="true" data-v-24bde11f>#</a> <code data-v-24bde11f>interface UploadedReturnedInfo</code></h5><div class="language-typescript line-numbers-mode" data-ext="ts" data-v-24bde11f><pre class="language-typescript" data-v-24bde11f><code data-v-24bde11f><span class="token keyword" data-v-24bde11f>export</span> <span class="token keyword" data-v-24bde11f>interface</span> <span class="token class-name" data-v-24bde11f>UploadedReturnedInfo</span> <span class="token punctuation" data-v-24bde11f>{</span>
   response<span class="token operator" data-v-24bde11f>:</span><span class="token punctuation" data-v-24bde11f>{</span>
    errorCount<span class="token operator" data-v-24bde11f>?</span><span class="token operator" data-v-24bde11f>:</span><span class="token builtin" data-v-24bde11f>number</span><span class="token punctuation" data-v-24bde11f>,</span>
    errorFileUrl<span class="token operator" data-v-24bde11f>?</span><span class="token operator" data-v-24bde11f>:</span><span class="token builtin" data-v-24bde11f>string</span><span class="token punctuation" data-v-24bde11f>,</span>
    relationId<span class="token operator" data-v-24bde11f>?</span><span class="token operator" data-v-24bde11f>:</span><span class="token builtin" data-v-24bde11f>string</span> <span class="token operator" data-v-24bde11f>|</span> <span class="token builtin" data-v-24bde11f>number</span> <span class="token operator" data-v-24bde11f>|</span> <span class="token keyword" data-v-24bde11f>null</span><span class="token punctuation" data-v-24bde11f>,</span>
    successCount<span class="token operator" data-v-24bde11f>?</span><span class="token operator" data-v-24bde11f>:</span><span class="token builtin" data-v-24bde11f>number</span><span class="token punctuation" data-v-24bde11f>,</span>
  <span class="token punctuation" data-v-24bde11f>}</span><span class="token punctuation" data-v-24bde11f>,</span>
  file<span class="token operator" data-v-24bde11f>?</span><span class="token operator" data-v-24bde11f>:</span> File
<span class="token punctuation" data-v-24bde11f>}</span>

</code></pre><div class="line-numbers" aria-hidden="true" data-v-24bde11f><div class="line-number" data-v-24bde11f></div><div class="line-number" data-v-24bde11f></div><div class="line-number" data-v-24bde11f></div><div class="line-number" data-v-24bde11f></div><div class="line-number" data-v-24bde11f></div><div class="line-number" data-v-24bde11f></div><div class="line-number" data-v-24bde11f></div><div class="line-number" data-v-24bde11f></div><div class="line-number" data-v-24bde11f></div><div class="line-number" data-v-24bde11f></div></div></div><h3 id="相关链接" tabindex="-1" data-v-24bde11f><a class="header-anchor" href="#相关链接" aria-hidden="true" data-v-24bde11f>#</a> 相关链接</h3>`,8),ta={id:"ui地址",tabindex:"-1"},na=t(()=>a("a",{class:"header-anchor",href:"#ui地址","aria-hidden":"true"},"#",-1)),ea={href:"https://mastergo.com/file/58385138731471?page_id=9078%3A27209",target:"_blank",rel:"noopener noreferrer"},sa=w({__name:"file-upload-modal.html",setup(c){const v=k(""),m=()=>{localStorage.setItem("authorization",v.value),_.set("authorization",v.value)},p=k(!1);function g(l,n){const i=["xlsx","xls","crv"],e=l.name.split("."),x=e[e.length-1];if(!i.includes(x.toLocaleLowerCase()))return U.warning("请选择xlsx、crv格式文件"),!1;n.append("templateid","123")}function h(l){console.log(l)}function y(l){console.log(l)}return(l,n)=>{const i=I("ExternalLinkIcon");return C(),F("div",null,[S,a("div",L,[d(o(q),{value:v.value,"onUpdate:value":n[0]||(n[0]=e=>v.value=e),placeholder:"请设置token"},null,8,["value"]),d(o(f),{type:"primary",onClick:m,class:"confirm-btn"},{default:b(()=>[s("确定")]),_:1})]),D,T,a("div",E,[d(o(f),{type:"primary",onClick:n[1]||(n[1]=e=>p.value=!0)},{default:b(()=>[s("文件导入")]),_:1}),d(o(r),{visible:p.value,"onUpdate:visible":n[2]||(n[2]=e=>p.value=e),action:"/demo",beforeUpload:g,onConfirm:h,onUploaded:y,"template-name":"文件名称","template-url":"https://xxx.com"},null,8,["visible"])]),V,a("div",z,[d(o(f),{type:"primary",onClick:n[3]||(n[3]=e=>p.value=!0)},{default:b(()=>[s("文件导入")]),_:1}),d(o(r),{visible:p.value,"onUpdate:visible":n[4]||(n[4]=e=>p.value=e),action:"/demo"},{default:b(({uploadedInfo:e})=>[a("div",null,B(e.successCount),1)]),_:1},8,["visible"])]),A,a("table",null,[$,a("tbody",null,[j,P,H,W,G,a("tr",null,[J,a("td",K,[s("接受上传的文件类型，详见 "),a("a",O,[s("input accept Attribute"),d(i)]),s("。")]),Q,X]),Y,Z])]),aa,a("h5",ta,[na,s(),a("a",ea,[s("UI地址"),d(i)])])])}}});const ka=R(sa,[["__scopeId","data-v-24bde11f"],["__file","file-upload-modal.html.vue"]]);export{ka as default};
