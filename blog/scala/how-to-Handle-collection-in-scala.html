<!DOCTYPE html>
<html lang="zh-CN">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width,initial-scale=1">
    <meta name="generator" content="VuePress 2.0.0-beta.63">
    <style>
      :root {
        --c-bg: #fff;
      }
      html.dark {
        --c-bg: #22272e;
      }
      html, body {
        background-color: var(--c-bg);
      }
    </style>
    <script>
      const userMode = localStorage.getItem('vuepress-color-scheme');
			const systemDarkMode = window.matchMedia && window.matchMedia('(prefers-color-scheme: dark)').matches;
			if (userMode === 'dark' || (userMode !== 'light' && systemDarkMode)) {
				document.documentElement.classList.toggle('dark', true);
			}
    </script>
    <link rel="icon" href="https://hh-oss-picture.miyapay.com/box/78d7605e63898a2b29a7a2631fedab77.svg"><title>MiYa-Design</title><meta name="description" content="米雅前端组件库">
    <link rel="preload" href="/miya-design/assets/style-06b41841.css" as="style"><link rel="stylesheet" href="/miya-design/assets/style-06b41841.css">
    <link rel="modulepreload" href="/miya-design/assets/app-fcfb95bc.js"><link rel="modulepreload" href="/miya-design/assets/how-to-Handle-collection-in-scala.html-de5979b2.js"><link rel="modulepreload" href="/miya-design/assets/how-to-Handle-collection-in-scala.html-dd9fd389.js"><link rel="prefetch" href="/miya-design/assets/index.html-d63c932a.js" as="script"><link rel="prefetch" href="/miya-design/assets/index.html-e9cc4b31.js" as="script"><link rel="prefetch" href="/miya-design/assets/build.html-18c086c1.js" as="script"><link rel="prefetch" href="/miya-design/assets/develop.html-08797d16.js" as="script"><link rel="prefetch" href="/miya-design/assets/doc.html-8ea49195.js" as="script"><link rel="prefetch" href="/miya-design/assets/test.html-3cce9454.js" as="script"><link rel="prefetch" href="/miya-design/assets/index.html-307a51a2.js" as="script"><link rel="prefetch" href="/miya-design/assets/index.html-3273d67f.js" as="script"><link rel="prefetch" href="/miya-design/assets/getting-start.html-4e9d5e16.js" as="script"><link rel="prefetch" href="/miya-design/assets/choose-color.html-f4c42cab.js" as="script"><link rel="prefetch" href="/miya-design/assets/choose-coupon-category.html-ff2f2cd6.js" as="script"><link rel="prefetch" href="/miya-design/assets/choose-coupon.html-99f84872.js" as="script"><link rel="prefetch" href="/miya-design/assets/choose-couponpacket-category.html-4b3ed9bc.js" as="script"><link rel="prefetch" href="/miya-design/assets/choose-couponpacket.html-2b997abf.js" as="script"><link rel="prefetch" href="/miya-design/assets/choose-gift-card.html-33ac3c2a.js" as="script"><link rel="prefetch" href="/miya-design/assets/choose-goods.html-fe25e9fc.js" as="script"><link rel="prefetch" href="/miya-design/assets/choose-group-coupon.html-1e0769bb.js" as="script"><link rel="prefetch" href="/miya-design/assets/choose-link.html-b0b2a174.js" as="script"><link rel="prefetch" href="/miya-design/assets/choose-lottery.html-e6a2b076.js" as="script"><link rel="prefetch" href="/miya-design/assets/choose-loyalty-card.html-080fe07a.js" as="script"><link rel="prefetch" href="/miya-design/assets/choose-page.html-a9ef1c5c.js" as="script"><link rel="prefetch" href="/miya-design/assets/choose-store.html-dc7cebdf.js" as="script"><link rel="prefetch" href="/miya-design/assets/echarts.html-200a1c51.js" as="script"><link rel="prefetch" href="/miya-design/assets/file-upload-modal.html-913f9659.js" as="script"><link rel="prefetch" href="/miya-design/assets/hot-zone.html-57678d7c.js" as="script"><link rel="prefetch" href="/miya-design/assets/miya-search.html-10424136.js" as="script"><link rel="prefetch" href="/miya-design/assets/upload-image.html-76b13cee.js" as="script"><link rel="prefetch" href="/miya-design/assets/use-api.html-699c4e71.js" as="script"><link rel="prefetch" href="/miya-design/assets/use-charts.html-7323353c.js" as="script"><link rel="prefetch" href="/miya-design/assets/day-night-button.html-cc9452ef.js" as="script"><link rel="prefetch" href="/miya-design/assets/architecture-of-play.html-8a94a8d9.js" as="script"><link rel="prefetch" href="/miya-design/assets/dependency-injection.html-26848faa.js" as="script"><link rel="prefetch" href="/miya-design/assets/dependency-injection2.html-9b8a8640.js" as="script"><link rel="prefetch" href="/miya-design/assets/first-glance-at-play.html-a80657ef.js" as="script"><link rel="prefetch" href="/miya-design/assets/know-react.html-08d415fb.js" as="script"><link rel="prefetch" href="/miya-design/assets/know-redux.html-8b3ec9d6.js" as="script"><link rel="prefetch" href="/miya-design/assets/reactive-web-application-4.html-4dccb9b3.js" as="script"><link rel="prefetch" href="/miya-design/assets/reactive-web-application-5.html-98cb26a3.js" as="script"><link rel="prefetch" href="/miya-design/assets/reactive-web-applications-1.html-d90dff8f.js" as="script"><link rel="prefetch" href="/miya-design/assets/reactive-web-applications-2.html-598d05cd.js" as="script"><link rel="prefetch" href="/miya-design/assets/reactive-web-applications-3.html-ac05d16e.js" as="script"><link rel="prefetch" href="/miya-design/assets/how-to-use-algebraic-data-type-in-development.html-928d922d.js" as="script"><link rel="prefetch" href="/miya-design/assets/mapAndFlatMap.html-8eb51117.js" as="script"><link rel="prefetch" href="/miya-design/assets/performance-in-collection.html-b957542c.js" as="script"><link rel="prefetch" href="/miya-design/assets/compile-in-vue-share.html-e77dd8a9.js" as="script"><link rel="prefetch" href="/miya-design/assets/compile-in-vue-share2.html-1b14c34c.js" as="script"><link rel="prefetch" href="/miya-design/assets/miya-technology-stack.html-3975efe5.js" as="script"><link rel="prefetch" href="/miya-design/assets/reactive-in-vue.html-e3adbda7.js" as="script"><link rel="prefetch" href="/miya-design/assets/compile-in-vue.html-86080196.js" as="script"><link rel="prefetch" href="/miya-design/assets/diff-in-vue.html-f3cdff1c.js" as="script"><link rel="prefetch" href="/miya-design/assets/garbage-collection.html-f4e33be2.js" as="script"><link rel="prefetch" href="/miya-design/assets/glance-renderer.html-bcfa1f19.js" as="script"><link rel="prefetch" href="/miya-design/assets/glance-v8.html-e7f5d1ef.js" as="script"><link rel="prefetch" href="/miya-design/assets/glance-vue.html-0a916385.js" as="script"><link rel="prefetch" href="/miya-design/assets/optimize-reactive.html-2a1db5dd.js" as="script"><link rel="prefetch" href="/miya-design/assets/reactive-array.html-4a26782b.js" as="script"><link rel="prefetch" href="/miya-design/assets/reactive-collection.html-57687f1b.js" as="script"><link rel="prefetch" href="/miya-design/assets/reactive-in-vue.html-d7d3d5a8.js" as="script"><link rel="prefetch" href="/miya-design/assets/reactive-scheduler.html-668645c3.js" as="script"><link rel="prefetch" href="/miya-design/assets/ref-in-vue.html-81a459d1.js" as="script"><link rel="prefetch" href="/miya-design/assets/404.html-f9875e7b.js" as="script"><link rel="prefetch" href="/miya-design/assets/index.html-b28b4f07.js" as="script"><link rel="prefetch" href="/miya-design/assets/index.html-d3a2124c.js" as="script"><link rel="prefetch" href="/miya-design/assets/build.html-d3e88d9b.js" as="script"><link rel="prefetch" href="/miya-design/assets/develop.html-a3b915ab.js" as="script"><link rel="prefetch" href="/miya-design/assets/doc.html-bf57ada0.js" as="script"><link rel="prefetch" href="/miya-design/assets/test.html-cb7b1b3f.js" as="script"><link rel="prefetch" href="/miya-design/assets/index.html-3acd1886.js" as="script"><link rel="prefetch" href="/miya-design/assets/index.html-d81de3ec.js" as="script"><link rel="prefetch" href="/miya-design/assets/getting-start.html-18f4bcdf.js" as="script"><link rel="prefetch" href="/miya-design/assets/choose-color.html-6d833618.js" as="script"><link rel="prefetch" href="/miya-design/assets/choose-coupon-category.html-bdabf47e.js" as="script"><link rel="prefetch" href="/miya-design/assets/choose-coupon.html-b7eb6ebe.js" as="script"><link rel="prefetch" href="/miya-design/assets/choose-couponpacket-category.html-32be30d1.js" as="script"><link rel="prefetch" href="/miya-design/assets/choose-couponpacket.html-51d8e41d.js" as="script"><link rel="prefetch" href="/miya-design/assets/choose-gift-card.html-7cf68453.js" as="script"><link rel="prefetch" href="/miya-design/assets/choose-goods.html-8d430731.js" as="script"><link rel="prefetch" href="/miya-design/assets/choose-group-coupon.html-356a8bae.js" as="script"><link rel="prefetch" href="/miya-design/assets/choose-link.html-69069ebc.js" as="script"><link rel="prefetch" href="/miya-design/assets/choose-lottery.html-80c9439e.js" as="script"><link rel="prefetch" href="/miya-design/assets/choose-loyalty-card.html-255c24c0.js" as="script"><link rel="prefetch" href="/miya-design/assets/choose-page.html-c8e8777d.js" as="script"><link rel="prefetch" href="/miya-design/assets/choose-store.html-268850e1.js" as="script"><link rel="prefetch" href="/miya-design/assets/echarts.html-8b5f1b0c.js" as="script"><link rel="prefetch" href="/miya-design/assets/file-upload-modal.html-14be2042.js" as="script"><link rel="prefetch" href="/miya-design/assets/hot-zone.html-12115975.js" as="script"><link rel="prefetch" href="/miya-design/assets/miya-search.html-aacba215.js" as="script"><link rel="prefetch" href="/miya-design/assets/upload-image.html-a51e6204.js" as="script"><link rel="prefetch" href="/miya-design/assets/use-api.html-fb2d80af.js" as="script"><link rel="prefetch" href="/miya-design/assets/use-charts.html-a05686e8.js" as="script"><link rel="prefetch" href="/miya-design/assets/day-night-button.html-0021e6f0.js" as="script"><link rel="prefetch" href="/miya-design/assets/architecture-of-play.html-d0a3a5db.js" as="script"><link rel="prefetch" href="/miya-design/assets/dependency-injection.html-4dbd4832.js" as="script"><link rel="prefetch" href="/miya-design/assets/dependency-injection2.html-4148b3b6.js" as="script"><link rel="prefetch" href="/miya-design/assets/first-glance-at-play.html-b23e6a95.js" as="script"><link rel="prefetch" href="/miya-design/assets/know-react.html-dce2c010.js" as="script"><link rel="prefetch" href="/miya-design/assets/know-redux.html-aa3a976d.js" as="script"><link rel="prefetch" href="/miya-design/assets/reactive-web-application-4.html-a2bdf8be.js" as="script"><link rel="prefetch" href="/miya-design/assets/reactive-web-application-5.html-6bae9648.js" as="script"><link rel="prefetch" href="/miya-design/assets/reactive-web-applications-1.html-1b8c13d6.js" as="script"><link rel="prefetch" href="/miya-design/assets/reactive-web-applications-2.html-3038edb9.js" as="script"><link rel="prefetch" href="/miya-design/assets/reactive-web-applications-3.html-22a13c83.js" as="script"><link rel="prefetch" href="/miya-design/assets/how-to-use-algebraic-data-type-in-development.html-4aba6541.js" as="script"><link rel="prefetch" href="/miya-design/assets/mapAndFlatMap.html-5afbfc26.js" as="script"><link rel="prefetch" href="/miya-design/assets/performance-in-collection.html-6302eda6.js" as="script"><link rel="prefetch" href="/miya-design/assets/compile-in-vue-share.html-fba80298.js" as="script"><link rel="prefetch" href="/miya-design/assets/compile-in-vue-share2.html-64687510.js" as="script"><link rel="prefetch" href="/miya-design/assets/miya-technology-stack.html-ce415bf3.js" as="script"><link rel="prefetch" href="/miya-design/assets/reactive-in-vue.html-fd646ed5.js" as="script"><link rel="prefetch" href="/miya-design/assets/compile-in-vue.html-bfffc553.js" as="script"><link rel="prefetch" href="/miya-design/assets/diff-in-vue.html-2e4a7435.js" as="script"><link rel="prefetch" href="/miya-design/assets/garbage-collection.html-3ff9f5ff.js" as="script"><link rel="prefetch" href="/miya-design/assets/glance-renderer.html-6f7ace0f.js" as="script"><link rel="prefetch" href="/miya-design/assets/glance-v8.html-e20e2d79.js" as="script"><link rel="prefetch" href="/miya-design/assets/glance-vue.html-49397d0e.js" as="script"><link rel="prefetch" href="/miya-design/assets/optimize-reactive.html-7368faf2.js" as="script"><link rel="prefetch" href="/miya-design/assets/reactive-array.html-3363541f.js" as="script"><link rel="prefetch" href="/miya-design/assets/reactive-collection.html-6ec21cea.js" as="script"><link rel="prefetch" href="/miya-design/assets/reactive-in-vue.html-a00d54d2.js" as="script"><link rel="prefetch" href="/miya-design/assets/reactive-scheduler.html-63b355f7.js" as="script"><link rel="prefetch" href="/miya-design/assets/ref-in-vue.html-5533dac2.js" as="script"><link rel="prefetch" href="/miya-design/assets/404.html-73185649.js" as="script"><link rel="prefetch" href="/miya-design/assets/Banner-fa2a5e57.js" as="script"><link rel="prefetch" href="/miya-design/assets/CompilerDemo-c5b1da4b.js" as="script"><link rel="prefetch" href="/miya-design/assets/DayNightButton-bec9836f.js" as="script"><link rel="prefetch" href="/miya-design/assets/OnlyStar-f7471b08.js" as="script"><link rel="prefetch" href="/miya-design/assets/ParseProgress-36de0cec.js" as="script"><link rel="prefetch" href="/miya-design/assets/ReactiveDemo-6c8b1518.js" as="script"><link rel="prefetch" href="/miya-design/assets/Star-aef02788.js" as="script">
  </head>
  <body>
    <div id="app"><!--[--><div class="theme-container no-sidebar"><!--[--><header class="navbar"><div class="toggle-sidebar-button" title="toggle sidebar" aria-expanded="false" role="button" tabindex="0"><div class="icon" aria-hidden="true"><span></span><span></span><span></span></div></div><span><a href="/miya-design/" class=""><img class="logo" src="https://hh-oss-picture.miyapay.com/box/78d7605e63898a2b29a7a2631fedab77.svg" alt="MiYa-Design"><span class="site-name can-hide">MiYa-Design</span></a></span><div class="navbar-items-wrapper" style=""><!--[--><!--]--><nav class="navbar-items can-hide"><!--[--><div class="navbar-item"><a href="/miya-design/guide/" class="" aria-label="指南"><!--[--><!--]--> 指南 <!--[--><!--]--></a></div><div class="navbar-item"><a href="/miya-design/components/hot-zone.md" class="" aria-label="组件"><!--[--><!--]--> 组件 <!--[--><!--]--></a></div><div class="navbar-item"><a href="/miya-design/advanced/" class="" aria-label="开发"><!--[--><!--]--> 开发 <!--[--><!--]--></a></div><div class="navbar-item"><a href="/miya-design/blog/" class="router-link-active" aria-label="博客"><!--[--><!--]--> 博客 <!--[--><!--]--></a></div><div class="navbar-item"><a class="external-link" href="https://gitlab.infra.miyatech.com/retail-front-end/miya-design" rel="noopener noreferrer" target="_blank" aria-label="GitLab"><!--[--><!--]--> GitLab <span><svg class="external-link-icon" xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path><polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg><span class="external-link-icon-sr-only">open in new window</span></span><!--[--><!--]--></a></div><!--]--></nav><!--[--><!--]--><!----><form class="search-box" role="search"><input type="search" autocomplete="off" spellcheck="false" value><!----></form></div></header><!--]--><div class="sidebar-mask"></div><!--[--><aside class="sidebar"><nav class="navbar-items"><!--[--><div class="navbar-item"><a href="/miya-design/guide/" class="" aria-label="指南"><!--[--><!--]--> 指南 <!--[--><!--]--></a></div><div class="navbar-item"><a href="/miya-design/components/hot-zone.md" class="" aria-label="组件"><!--[--><!--]--> 组件 <!--[--><!--]--></a></div><div class="navbar-item"><a href="/miya-design/advanced/" class="" aria-label="开发"><!--[--><!--]--> 开发 <!--[--><!--]--></a></div><div class="navbar-item"><a href="/miya-design/blog/" class="router-link-active" aria-label="博客"><!--[--><!--]--> 博客 <!--[--><!--]--></a></div><div class="navbar-item"><a class="external-link" href="https://gitlab.infra.miyatech.com/retail-front-end/miya-design" rel="noopener noreferrer" target="_blank" aria-label="GitLab"><!--[--><!--]--> GitLab <span><svg class="external-link-icon" xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path><polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg><span class="external-link-icon-sr-only">open in new window</span></span><!--[--><!--]--></a></div><!--]--></nav><!--[--><!--]--><!----><!--[--><!--]--></aside><!--]--><!--[--><main class="page"><!--[--><!--]--><div class="theme-default-content"><!--[--><!--]--><div><h2 class="blog-title">如何在 Scala 中科学地操作 collection（一）：集合类型与操作</h2><p>在日常项目开发中，我们几乎都会用到Scala中的集合以及一些集合操作。由于 Scala 中的集合操作灵活多变，对于刚接触Scala的开发者，在选用何种集合以及使用何种集合操作就显得不那么合理了，虽然大部分时候都可以解决问题，但是有时候并没有选择最优的方式。科学合理地操作Scala中的集合可以使我们的代码变得更加简洁和高效。</p><h2 id="mutable-和-immutable-集合" tabindex="-1"><a class="header-anchor" href="#mutable-和-immutable-集合" aria-hidden="true">#</a> Mutable 和 Immutable 集合</h2><p>Scala 集合类系统地区分了可变的和不可变的集合。</p><h3 id="scala-collection-包中所有的集合类" tabindex="-1"><a class="header-anchor" href="#scala-collection-包中所有的集合类" aria-hidden="true">#</a> scala.collection 包中所有的集合类</h3><p><img src="/miya-design/assets/collections-ed4c78ad.png" alt="Image of collections"></p><h3 id="scala-collection-mutable-中的所有集合类" tabindex="-1"><a class="header-anchor" href="#scala-collection-mutable-中的所有集合类" aria-hidden="true">#</a> scala.collection.mutable 中的所有集合类</h3><p><code>可变集合</code>，顾名思义，意味着你可以修改，移除或者添加一个元素。</p><p><img src="/miya-design/assets/collections.mutable-5539281c.png" alt="Image of immutatble collection"></p><h3 id="scala-collection-immutable-中的所有集合类" tabindex="-1"><a class="header-anchor" href="#scala-collection-immutable-中的所有集合类" aria-hidden="true">#</a> scala.collection.immutable 中的所有集合类</h3><p><code>不可变集合</code>，相比<code>可变集合</code>，<code>不可变集合</code>永远不会被改变，但是你仍然可以像<code>可变集合</code>那样操作（修改，添加，删除某个集合元素）<code>不可变集合</code>，只是这些操作在每一种情况下都是返回一个新的集合，同时，原来的集合不会发生改变，由于此特性，<code>不可变集合</code>也是线程安全的，Scala在默认情况下采用的是<code>不可变集合</code>。所以在使用上，优先使用<code>不可变集合</code>。<code>不可变集</code>合适用于大多数情况。</p><p><img src="/miya-design/assets/collections.immutable-a00bd64b.png" alt="Image of mutable collection"></p><h2 id="不同集合的使用场景" tabindex="-1"><a class="header-anchor" href="#不同集合的使用场景" aria-hidden="true">#</a> 不同集合的使用场景</h2><p>其中常用的集合有三种：<code>List</code>，<code>Set</code>，<code>Map</code>。</p><h3 id="列表-list" tabindex="-1"><a class="header-anchor" href="#列表-list" aria-hidden="true">#</a> 列表 List</h3><p><code>List</code> 继承至 <code>Seq</code>，集合中的元素是可以重复的。</p><p>e.g.</p><div class="language-scala line-numbers-mode" data-ext="scala"><pre class="language-scala"><code>scala<span class="token operator">&gt;</span> <span class="token keyword">val</span> l <span class="token operator">=</span> List<span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">,</span> <span class="token number">1</span><span class="token punctuation">,</span> <span class="token number">2</span><span class="token punctuation">,</span> <span class="token number">2</span><span class="token punctuation">,</span> <span class="token number">3</span><span class="token punctuation">,</span> <span class="token number">5</span><span class="token punctuation">)</span>
l<span class="token operator">:</span> List<span class="token punctuation">[</span><span class="token builtin">Int</span><span class="token punctuation">]</span> <span class="token operator">=</span> List<span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">,</span> <span class="token number">1</span><span class="token punctuation">,</span> <span class="token number">2</span><span class="token punctuation">,</span> <span class="token number">2</span><span class="token punctuation">,</span> <span class="token number">3</span><span class="token punctuation">,</span> <span class="token number">5</span><span class="token punctuation">)</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div></div></div><p>所以当集合内的元素是可重复的时候，可以选择 <code>List</code> 或者 <code>Seq</code>。</p><h3 id="集-set" tabindex="-1"><a class="header-anchor" href="#集-set" aria-hidden="true">#</a> 集 Set</h3><p><code>Set</code> 中的元素是不可重复的。</p><p>e.g.</p><div class="language-scala line-numbers-mode" data-ext="scala"><pre class="language-scala"><code>scala<span class="token operator">&gt;</span> <span class="token keyword">val</span> s <span class="token operator">=</span> Set<span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">,</span> <span class="token number">1</span><span class="token punctuation">,</span> <span class="token number">2</span><span class="token punctuation">,</span> <span class="token number">2</span><span class="token punctuation">,</span> <span class="token number">3</span><span class="token punctuation">,</span> <span class="token number">5</span><span class="token punctuation">)</span>
s<span class="token operator">:</span> scala<span class="token punctuation">.</span>collection<span class="token punctuation">.</span>immutable<span class="token punctuation">.</span>Set<span class="token punctuation">[</span><span class="token builtin">Int</span><span class="token punctuation">]</span> <span class="token operator">=</span> Set<span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">,</span> <span class="token number">2</span><span class="token punctuation">,</span> <span class="token number">3</span><span class="token punctuation">,</span> <span class="token number">5</span><span class="token punctuation">)</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div></div></div><p>所以当集合内的元素是不可重复的时候，选择 <code>Set</code>。</p><h3 id="映射-map" tabindex="-1"><a class="header-anchor" href="#映射-map" aria-hidden="true">#</a> 映射 Map</h3><p><code>Map</code> 中的元素呈现 <code>key -&gt; value</code> 的形式，其中第一个参数是映射的键，第二个参数是映射的值。且Map中每一个元素的键是唯一的。</p><p>e.g.</p><div class="language-scala line-numbers-mode" data-ext="scala"><pre class="language-scala"><code>scala<span class="token operator">&gt;</span> <span class="token keyword">val</span> m <span class="token operator">=</span> Map<span class="token punctuation">(</span><span class="token number">1</span> <span class="token operator">-&gt;</span> <span class="token number">1</span><span class="token punctuation">,</span> <span class="token number">1</span> <span class="token operator">-&gt;</span> <span class="token number">3</span><span class="token punctuation">,</span> <span class="token number">2</span> <span class="token operator">-&gt;</span> <span class="token number">3</span><span class="token punctuation">,</span> <span class="token number">3</span> <span class="token operator">-&gt;</span> <span class="token number">4</span><span class="token punctuation">,</span> <span class="token number">4</span> <span class="token operator">-&gt;</span> <span class="token number">4</span><span class="token punctuation">,</span> <span class="token number">5</span> <span class="token operator">-&gt;</span> <span class="token number">7</span><span class="token punctuation">)</span>
m<span class="token operator">:</span> scala<span class="token punctuation">.</span>collection<span class="token punctuation">.</span>immutable<span class="token punctuation">.</span>Map<span class="token punctuation">[</span><span class="token builtin">Int</span><span class="token punctuation">,</span><span class="token builtin">Int</span><span class="token punctuation">]</span> <span class="token operator">=</span> Map<span class="token punctuation">(</span><span class="token number">5</span> <span class="token operator">-&gt;</span> <span class="token number">7</span><span class="token punctuation">,</span> <span class="token number">1</span> <span class="token operator">-&gt;</span> <span class="token number">3</span><span class="token punctuation">,</span> <span class="token number">2</span> <span class="token operator">-&gt;</span> <span class="token number">3</span><span class="token punctuation">,</span> <span class="token number">3</span> <span class="token operator">-&gt;</span> <span class="token number">4</span><span class="token punctuation">,</span> <span class="token number">4</span> <span class="token operator">-&gt;</span> <span class="token number">4</span><span class="token punctuation">)</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div></div></div><p>所以当集合中的元素是 <code>key -&gt; value</code> 的形式且每个元素的键不重复的时候，选择 <code>Map</code>。</p><h2 id="集合中方法的使用" tabindex="-1"><a class="header-anchor" href="#集合中方法的使用" aria-hidden="true">#</a> 集合中方法的使用</h2><h3 id="各集合操作之间的比较" tabindex="-1"><a class="header-anchor" href="#各集合操作之间的比较" aria-hidden="true">#</a> 各集合操作之间的比较</h3><p>在开始介绍不同方法的使用场景之前，我们先对比一下不同方法操作同一集合所产出的结果有何异同。</p><ul><li><code>map</code>、<code>filter</code>、<code>collect</code> 的比较</li></ul><div class="language-scala line-numbers-mode" data-ext="scala"><pre class="language-scala"><code><span class="token comment">//定义一个列表</span>
scala<span class="token operator">&gt;</span> <span class="token keyword">val</span> l <span class="token operator">=</span> List<span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">,</span> <span class="token number">2</span><span class="token punctuation">,</span> <span class="token number">3</span><span class="token punctuation">,</span> <span class="token number">4</span><span class="token punctuation">,</span> <span class="token number">5</span><span class="token punctuation">)</span>
l<span class="token operator">:</span> List<span class="token punctuation">[</span><span class="token builtin">Int</span><span class="token punctuation">]</span> <span class="token operator">=</span> List<span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">,</span> <span class="token number">2</span><span class="token punctuation">,</span> <span class="token number">3</span><span class="token punctuation">,</span> <span class="token number">4</span><span class="token punctuation">,</span> <span class="token number">5</span><span class="token punctuation">)</span>

<span class="token comment">//map操作</span>
scala<span class="token operator">&gt;</span> l<span class="token punctuation">.</span>map<span class="token punctuation">(</span>_ <span class="token operator">*</span> <span class="token number">2</span><span class="token punctuation">)</span>
res0<span class="token operator">:</span> List<span class="token punctuation">[</span><span class="token builtin">Int</span><span class="token punctuation">]</span> <span class="token operator">=</span> List<span class="token punctuation">(</span><span class="token number">2</span><span class="token punctuation">,</span> <span class="token number">4</span><span class="token punctuation">,</span> <span class="token number">6</span><span class="token punctuation">,</span> <span class="token number">8</span><span class="token punctuation">,</span> <span class="token number">10</span><span class="token punctuation">)</span>

<span class="token comment">//filter操作</span>
scala<span class="token operator">&gt;</span> l<span class="token punctuation">.</span>filter<span class="token punctuation">(</span>_ <span class="token operator">&gt;</span> <span class="token number">2</span><span class="token punctuation">)</span>
res3<span class="token operator">:</span> List<span class="token punctuation">[</span><span class="token builtin">Int</span><span class="token punctuation">]</span> <span class="token operator">=</span> List<span class="token punctuation">(</span><span class="token number">3</span><span class="token punctuation">,</span> <span class="token number">4</span><span class="token punctuation">,</span> <span class="token number">5</span><span class="token punctuation">)</span>

<span class="token comment">//collect操作</span>
scala<span class="token operator">&gt;</span> l<span class="token punctuation">.</span>collect <span class="token punctuation">{</span><span class="token keyword">case</span> i <span class="token keyword">if</span> i <span class="token operator">&gt;</span> <span class="token number">2</span> <span class="token keyword">=&gt;</span> i <span class="token operator">*</span> <span class="token number">2</span><span class="token punctuation">}</span>
res1<span class="token operator">:</span> List<span class="token punctuation">[</span><span class="token builtin">Int</span><span class="token punctuation">]</span> <span class="token operator">=</span> List<span class="token punctuation">(</span><span class="token number">6</span><span class="token punctuation">,</span> <span class="token number">8</span><span class="token punctuation">,</span> <span class="token number">10</span><span class="token punctuation">)</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>通过以上结果对比我们可以看到：</p><p><code>map</code> 操作得到的集合，除了元素个数和原集合一样，其他都不一样。</p><p><code>filter</code> 操作得到的集合是原集合的子集。</p><p><code>collect</code> 操作得到的集合虽然和原集合不一样，但是仔细观察，可以看到 <code>collect</code> 操作得到的结果是 <code>map</code> 操作得到结果的子集，而且元素的个数和 <code>filter</code> 操作得到的集合元素个数相同。</p><ul><li><code>flatten</code> 和 <code>flatMap</code> 的比较</li></ul><div class="language-scala line-numbers-mode" data-ext="scala"><pre class="language-scala"><code><span class="token comment">//定义一个列表</span>
scala<span class="token operator">&gt;</span> <span class="token keyword">val</span> l <span class="token operator">=</span> List<span class="token punctuation">(</span>List<span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">,</span> <span class="token number">2</span><span class="token punctuation">,</span> <span class="token number">3</span><span class="token punctuation">)</span><span class="token punctuation">,</span> List<span class="token punctuation">(</span><span class="token number">4</span><span class="token punctuation">,</span> <span class="token number">5</span><span class="token punctuation">,</span> <span class="token number">6</span><span class="token punctuation">)</span><span class="token punctuation">,</span> Seq<span class="token punctuation">(</span><span class="token number">7</span><span class="token punctuation">,</span> <span class="token number">8</span><span class="token punctuation">,</span> <span class="token number">9</span><span class="token punctuation">)</span><span class="token punctuation">)</span>
l<span class="token operator">:</span> List<span class="token punctuation">[</span>Seq<span class="token punctuation">[</span><span class="token builtin">Int</span><span class="token punctuation">]</span><span class="token punctuation">]</span> <span class="token operator">=</span> List<span class="token punctuation">(</span>List<span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">,</span> <span class="token number">2</span><span class="token punctuation">,</span> <span class="token number">3</span><span class="token punctuation">)</span><span class="token punctuation">,</span> List<span class="token punctuation">(</span><span class="token number">4</span><span class="token punctuation">,</span> <span class="token number">5</span><span class="token punctuation">,</span> <span class="token number">6</span><span class="token punctuation">)</span><span class="token punctuation">,</span> List<span class="token punctuation">(</span><span class="token number">7</span><span class="token punctuation">,</span> <span class="token number">8</span><span class="token punctuation">,</span> <span class="token number">9</span><span class="token punctuation">)</span><span class="token punctuation">)</span>

<span class="token comment">//flatten操作</span>
scala<span class="token operator">&gt;</span> l<span class="token punctuation">.</span>flatten
res5<span class="token operator">:</span> List<span class="token punctuation">[</span><span class="token builtin">Int</span><span class="token punctuation">]</span> <span class="token operator">=</span> List<span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">,</span> <span class="token number">2</span><span class="token punctuation">,</span> <span class="token number">3</span><span class="token punctuation">,</span> <span class="token number">4</span><span class="token punctuation">,</span> <span class="token number">5</span><span class="token punctuation">,</span> <span class="token number">6</span><span class="token punctuation">,</span> <span class="token number">7</span><span class="token punctuation">,</span> <span class="token number">8</span><span class="token punctuation">,</span> <span class="token number">9</span><span class="token punctuation">)</span>

<span class="token comment">//flatMap操作</span>
scala<span class="token operator">&gt;</span> l<span class="token punctuation">.</span>flatMap<span class="token punctuation">(</span>i <span class="token keyword">=&gt;</span> i<span class="token punctuation">.</span>map<span class="token punctuation">(</span>_ <span class="token operator">*</span> <span class="token number">2</span><span class="token punctuation">)</span><span class="token punctuation">)</span>
res6<span class="token operator">:</span> List<span class="token punctuation">[</span><span class="token builtin">Int</span><span class="token punctuation">]</span> <span class="token operator">=</span> List<span class="token punctuation">(</span><span class="token number">2</span><span class="token punctuation">,</span> <span class="token number">4</span><span class="token punctuation">,</span> <span class="token number">6</span><span class="token punctuation">,</span> <span class="token number">8</span><span class="token punctuation">,</span> <span class="token number">10</span><span class="token punctuation">,</span> <span class="token number">12</span><span class="token punctuation">,</span> <span class="token number">14</span><span class="token punctuation">,</span> <span class="token number">16</span><span class="token punctuation">,</span> <span class="token number">18</span><span class="token punctuation">)</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>通过以上结果我们可以看到，<code>flatten</code> 和 <code>flatMap</code> 都可可以将嵌套结构扁平化为一个层次的集合，但是：</p><p><code>flatten</code> 仅仅是将嵌套结构扁平化了，并没有改变原来集合内层列表中元素的值。</p><p><code>flatMap</code> 不仅将嵌套结构扁平化了，而且改变了原来集合内层列表中元素的值，其实 <code>flatMap</code> 就是在 <code>flatten</code> 之后再做一个 <code>map</code> 操作。</p><p>补充：以上操作返回的都是一个批量的结果，如果要查找某一特定元素，则可以采用类比的方法：</p><p><code>filter</code> -&gt; <code>find</code></p><p><code>collect</code> -&gt; <code>collectFirst</code></p><h3 id="不同方法的使用场景" tabindex="-1"><a class="header-anchor" href="#不同方法的使用场景" aria-hidden="true">#</a> 不同方法的使用场景</h3><p>通过以上对比，我们对集合中常用方法的操作结果有了一个大致的认识，接下来我们看看在不同场景下如何科学地选择相应的集合操作。</p><p>我们先定义一些将要在后面场景中使用的数据结构：</p><div class="language-scala line-numbers-mode" data-ext="scala"><pre class="language-scala"><code><span class="token keyword">case</span> <span class="token keyword">class</span> Student<span class="token punctuation">(</span>
  name<span class="token operator">:</span> <span class="token builtin">String</span><span class="token punctuation">,</span>
  age<span class="token operator">:</span> <span class="token builtin">Int</span><span class="token punctuation">,</span>
  sex<span class="token operator">:</span> <span class="token builtin">String</span>
<span class="token punctuation">)</span>
<span class="token keyword">val</span> jilen <span class="token operator">=</span> Student<span class="token punctuation">(</span>
  name <span class="token operator">=</span> <span class="token string">&quot;Jilen&quot;</span><span class="token punctuation">,</span>
  age <span class="token operator">=</span> <span class="token number">30</span><span class="token punctuation">,</span>
  sex <span class="token operator">=</span> <span class="token string">&quot;m&quot;</span>
<span class="token punctuation">)</span>
<span class="token keyword">val</span> shaw <span class="token operator">=</span> Student<span class="token punctuation">(</span>
  name <span class="token operator">=</span> <span class="token string">&quot;Shaw&quot;</span><span class="token punctuation">,</span>
  age <span class="token operator">=</span> <span class="token number">18</span><span class="token punctuation">,</span>
  sex <span class="token operator">=</span> <span class="token string">&quot;m&quot;</span>
<span class="token punctuation">)</span>
<span class="token keyword">val</span> yison <span class="token operator">=</span> Student<span class="token punctuation">(</span>
  name <span class="token operator">=</span> <span class="token string">&quot;Yison&quot;</span><span class="token punctuation">,</span>
  age <span class="token operator">=</span> <span class="token number">40</span><span class="token punctuation">,</span>
  sex <span class="token operator">=</span> <span class="token string">&quot;f&quot;</span>
<span class="token punctuation">)</span>
<span class="token keyword">val</span> l <span class="token operator">=</span> List<span class="token punctuation">(</span>jilen<span class="token punctuation">,</span> shaw<span class="token punctuation">,</span> yison<span class="token punctuation">)</span>
l<span class="token operator">:</span> List<span class="token punctuation">[</span>Student<span class="token punctuation">]</span> <span class="token operator">=</span> List<span class="token punctuation">(</span>Student<span class="token punctuation">(</span>Jilen<span class="token punctuation">,</span><span class="token number">30</span><span class="token punctuation">,</span>m<span class="token punctuation">)</span><span class="token punctuation">,</span> Student<span class="token punctuation">(</span>Shaw<span class="token punctuation">,</span><span class="token number">18</span><span class="token punctuation">,</span>m<span class="token punctuation">)</span><span class="token punctuation">,</span> Student<span class="token punctuation">(</span>Yison<span class="token punctuation">,</span><span class="token number">40</span><span class="token punctuation">,</span>f<span class="token punctuation">)</span><span class="token punctuation">)</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>如上，我们定义了一个学生组成的列表。</p><h4 id="场景一-我们要得到这些学生姓名所组成的列表" tabindex="-1"><a class="header-anchor" href="#场景一-我们要得到这些学生姓名所组成的列表" aria-hidden="true">#</a> 场景一：我们要得到这些学生姓名所组成的列表</h4><p>分析：学生姓名所组成的列表和原列表（学生列表）是不同的，是一个全新的列表，所以这里选用 <code>map</code></p><div class="language-scala line-numbers-mode" data-ext="scala"><pre class="language-scala"><code><span class="token keyword">val</span> nameList <span class="token operator">=</span> l<span class="token punctuation">.</span>map<span class="token punctuation">(</span>_<span class="token punctuation">.</span>name<span class="token punctuation">)</span>
nameList<span class="token operator">:</span> List<span class="token punctuation">[</span><span class="token builtin">String</span><span class="token punctuation">]</span> <span class="token operator">=</span> List<span class="token punctuation">(</span>Jilen<span class="token punctuation">,</span> Shaw<span class="token punctuation">,</span> Yison<span class="token punctuation">)</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div></div></div><p><code>map</code> 是对集合中的每个元素应用一个函数，返回应用后的元素所组成的集合，通常情况下，map所返回的集合和原集合是是不同类型的集合，也就是一个全新的集合。</p><h4 id="场景二-我们要得到所有性别是男-m-的学生所组成的列表" tabindex="-1"><a class="header-anchor" href="#场景二-我们要得到所有性别是男-m-的学生所组成的列表" aria-hidden="true">#</a> 场景二：我们要得到所有性别是男（m）的学生所组成的列表</h4><p>分析：得到的列表还是学生列表，并且该列表是原列表的子集，因为有一个附加条件：男性学生，所以这里选用 <code>filter</code></p><div class="language-scala line-numbers-mode" data-ext="scala"><pre class="language-scala"><code><span class="token keyword">val</span> maleList <span class="token operator">=</span> l<span class="token punctuation">.</span>filter<span class="token punctuation">(</span>_<span class="token punctuation">.</span>sex <span class="token operator">==</span> <span class="token string">&quot;m&quot;</span><span class="token punctuation">)</span>
maleList<span class="token operator">:</span> List<span class="token punctuation">[</span>Student<span class="token punctuation">]</span> <span class="token operator">=</span> List<span class="token punctuation">(</span>Student<span class="token punctuation">(</span>Jilen<span class="token punctuation">,</span><span class="token number">30</span><span class="token punctuation">,</span>m<span class="token punctuation">)</span><span class="token punctuation">,</span> Student<span class="token punctuation">(</span>Shaw<span class="token punctuation">,</span><span class="token number">18</span><span class="token punctuation">,</span>m<span class="token punctuation">)</span><span class="token punctuation">)</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div></div></div><p><code>filter</code> 一般用于移除集合中不满足条件的元素，返回满足条件的元素所组成的集合。 当然，这里用 <code>collect</code> 也可以解决问题：</p><div class="language-scala line-numbers-mode" data-ext="scala"><pre class="language-scala"><code><span class="token keyword">val</span> maleList <span class="token operator">=</span> l<span class="token punctuation">.</span>collect<span class="token punctuation">{</span><span class="token keyword">case</span> s <span class="token keyword">if</span> s<span class="token punctuation">.</span>sex <span class="token operator">==</span> <span class="token string">&quot;m&quot;</span> <span class="token keyword">=&gt;</span> s<span class="token punctuation">}</span>
maleList<span class="token operator">:</span> List<span class="token punctuation">[</span>Student<span class="token punctuation">]</span> <span class="token operator">=</span> List<span class="token punctuation">(</span>Student<span class="token punctuation">(</span>Jilen<span class="token punctuation">,</span><span class="token number">30</span><span class="token punctuation">,</span>m<span class="token punctuation">)</span><span class="token punctuation">,</span> Student<span class="token punctuation">(</span>Shaw<span class="token punctuation">,</span><span class="token number">18</span><span class="token punctuation">,</span>m<span class="token punctuation">)</span><span class="token punctuation">)</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div></div></div><p>但是对比一下，可以发现filter更加简洁。</p><h4 id="场景三-我们要得到男学生姓名所组成的列表" tabindex="-1"><a class="header-anchor" href="#场景三-我们要得到男学生姓名所组成的列表" aria-hidden="true">#</a> 场景三： 我们要得到男学生姓名所组成的列表</h4><p>分析：要得到男学生姓名，我们首先要得到男学生，然后再去获取这些学生的姓名，所以我们很容易采用：</p><div class="language-scala line-numbers-mode" data-ext="scala"><pre class="language-scala"><code><span class="token keyword">val</span> maleNameList <span class="token operator">=</span> l<span class="token punctuation">.</span>filter<span class="token punctuation">(</span>_<span class="token punctuation">.</span>sex <span class="token operator">==</span> <span class="token string">&quot;m&quot;</span><span class="token punctuation">)</span><span class="token punctuation">.</span>map<span class="token punctuation">(</span>_<span class="token punctuation">.</span>name<span class="token punctuation">)</span>
maleNameList<span class="token operator">:</span> List<span class="token punctuation">[</span><span class="token builtin">String</span><span class="token punctuation">]</span> <span class="token operator">=</span> List<span class="token punctuation">(</span>Jilen<span class="token punctuation">,</span> Shaw<span class="token punctuation">)</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div></div></div><p>但是通过我们在之前<code>各集合操作之间的比较</code>中所得出的结论，由于男学生姓名列表是一个和原列表（学生列表）完全不同的，并且该列表是学生姓名列表的子集，所以我们可以采用 <code>collect</code>：</p><div class="language-scala line-numbers-mode" data-ext="scala"><pre class="language-scala"><code><span class="token keyword">val</span> maleNameList <span class="token operator">=</span> l<span class="token punctuation">.</span>collect<span class="token punctuation">{</span><span class="token keyword">case</span> s <span class="token keyword">if</span> s<span class="token punctuation">.</span>sex <span class="token operator">==</span> <span class="token string">&quot;m&quot;</span> <span class="token keyword">=&gt;</span> s<span class="token punctuation">.</span>name<span class="token punctuation">}</span>
maleNameList<span class="token operator">:</span> List<span class="token punctuation">[</span><span class="token builtin">String</span><span class="token punctuation">]</span> <span class="token operator">=</span> List<span class="token punctuation">(</span>Jilen<span class="token punctuation">,</span> Shaw<span class="token punctuation">)</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div></div></div><p>得到的结果和上面操作的结果一样。</p><p><code>collect</code> 接受的是一个偏函数，对集合中每个元素应用该函数，返回应用后的元素所组成的列表，可以将 <code>collect</code> 看作是先做 <code>filter</code> 操作再做 <code>map</code> 操作：</p><p>场景二中的 <code>collect</code> 操作可以看作是：</p><div class="language-scala line-numbers-mode" data-ext="scala"><pre class="language-scala"><code>l<span class="token punctuation">.</span>filter<span class="token punctuation">(</span>_<span class="token punctuation">.</span>sex <span class="token operator">==</span> <span class="token string">&quot;m&quot;</span><span class="token punctuation">)</span><span class="token punctuation">.</span>map<span class="token punctuation">(</span>s <span class="token keyword">=&gt;</span> s<span class="token punctuation">)</span>
List<span class="token punctuation">[</span>Student<span class="token punctuation">]</span> <span class="token operator">=</span> List<span class="token punctuation">(</span>Student<span class="token punctuation">(</span>Jilen<span class="token punctuation">,</span><span class="token number">30</span><span class="token punctuation">,</span>m<span class="token punctuation">)</span><span class="token punctuation">,</span> Student<span class="token punctuation">(</span>Shaw<span class="token punctuation">,</span><span class="token number">18</span><span class="token punctuation">,</span>m<span class="token punctuation">)</span><span class="token punctuation">)</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div></div></div><h3 id="其他常用方法" tabindex="-1"><a class="header-anchor" href="#其他常用方法" aria-hidden="true">#</a> 其他常用方法</h3><h4 id="场景四-现在我们要得到每个学生在列表中的位置以方便给他们编号" tabindex="-1"><a class="header-anchor" href="#场景四-现在我们要得到每个学生在列表中的位置以方便给他们编号" aria-hidden="true">#</a> 场景四：现在我们要得到每个学生在列表中的位置以方便给他们编号</h4><p>分析：我们可以采用 <code>学生 -&gt; 编号</code> 的形式来组织学生与编号之前的关系，这里我们可以采用 <code>zipWithIndex</code>：</p><div class="language-scala line-numbers-mode" data-ext="scala"><pre class="language-scala"><code>l<span class="token punctuation">.</span>zipWithIndex
List<span class="token punctuation">[</span><span class="token punctuation">(</span>Student<span class="token punctuation">,</span> <span class="token builtin">Int</span><span class="token punctuation">)</span><span class="token punctuation">]</span> <span class="token operator">=</span> List<span class="token punctuation">(</span><span class="token punctuation">(</span>Student<span class="token punctuation">(</span>Jilen<span class="token punctuation">,</span><span class="token number">30</span><span class="token punctuation">,</span>m<span class="token punctuation">)</span><span class="token punctuation">,</span><span class="token number">0</span><span class="token punctuation">)</span><span class="token punctuation">,</span> <span class="token punctuation">(</span>Student<span class="token punctuation">(</span>Shaw<span class="token punctuation">,</span><span class="token number">18</span><span class="token punctuation">,</span>m<span class="token punctuation">)</span><span class="token punctuation">,</span><span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">,</span><span class="token punctuation">(</span>Student<span class="token punctuation">(</span>Yison<span class="token punctuation">,</span><span class="token number">40</span><span class="token punctuation">,</span>f<span class="token punctuation">)</span><span class="token punctuation">,</span><span class="token number">2</span><span class="token punctuation">)</span><span class="token punctuation">)</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div></div></div><p><code>zipWithIndex</code> 将可以将集合内的元素与该元素在集合中的位置组合在一起，其实就是将集合内的元素与该元素的位置组成了一个元组，元组的第二个值是元素在集合中所处的位置。</p><h4 id="场景五-现在要将男学生和女学生分组-男学生组成一个集合-女学生组成一个集合" tabindex="-1"><a class="header-anchor" href="#场景五-现在要将男学生和女学生分组-男学生组成一个集合-女学生组成一个集合" aria-hidden="true">#</a> 场景五：现在要将男学生和女学生分组，男学生组成一个集合，女学生组成一个集合</h4><p>分析：根据场景的描述，新集合内的元素应该是：<code>sex -&gt; List[Student]</code>的形式，这里我们可以采用：<code>groupBy</code>：</p><div class="language-scala line-numbers-mode" data-ext="scala"><pre class="language-scala"><code><span class="token keyword">val</span> group <span class="token operator">=</span> l<span class="token punctuation">.</span>groupBy<span class="token punctuation">(</span>_<span class="token punctuation">.</span>sex<span class="token punctuation">)</span>
group<span class="token operator">:</span> scala<span class="token punctuation">.</span>collection<span class="token punctuation">.</span>immutable<span class="token punctuation">.</span>Map<span class="token punctuation">[</span><span class="token builtin">String</span><span class="token punctuation">,</span>List<span class="token punctuation">[</span>Student<span class="token punctuation">]</span><span class="token punctuation">]</span> <span class="token operator">=</span> Map<span class="token punctuation">(</span>m <span class="token operator">-&gt;</span> List<span class="token punctuation">(</span>Student<span class="token punctuation">(</span>Jilen<span class="token punctuation">,</span><span class="token number">30</span><span class="token punctuation">,</span>m<span class="token punctuation">)</span><span class="token punctuation">,</span> Student<span class="token punctuation">(</span>Shaw<span class="token punctuation">,</span><span class="token number">18</span><span class="token punctuation">,</span>m<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">,</span> f <span class="token operator">-&gt;</span> List<span class="token punctuation">(</span>Student<span class="token punctuation">(</span>Yison<span class="token punctuation">,</span><span class="token number">40</span><span class="token punctuation">,</span>f<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">)</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div></div></div><p><code>groupBy</code> 就是对集合按照特定的要求进行分组，返回一个 <code>Map</code>类型。</p><h2 id="延伸阅读" tabindex="-1"><a class="header-anchor" href="#延伸阅读" aria-hidden="true">#</a> 延伸阅读</h2><p><a href="https://pavelfatin.com/scala-collections-tips-and-tricks/" target="_blank" rel="noopener noreferrer">Scala Collections Tips and Tricks<span><svg class="external-link-icon" xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path><polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg><span class="external-link-icon-sr-only">open in new window</span></span></a></p><p><a href="https://twitter.github.io/scala_school/zh_cn/collections.html" target="_blank" rel="noopener noreferrer">集合<span><svg class="external-link-icon" xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path><polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg><span class="external-link-icon-sr-only">open in new window</span></span></a></p></div><!--[--><!--]--></div><footer class="page-meta"><!----><!----><!----></footer><!----><!--[--><!--]--></main><!--]--></div><!----><!--]--></div>
    <script type="module" src="/miya-design/assets/app-fcfb95bc.js" defer></script>
  </body>
</html>
